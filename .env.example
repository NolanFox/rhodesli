# .env.example — Copy to .env for local development
# These values are defaults for local development.
# Railway will set its own PORT and you'll configure the rest in the dashboard.

# =============================================================================
# Server Configuration
# =============================================================================

# Network binding
HOST=0.0.0.0
PORT=5001

# Debug mode (enables hot reload in FastHTML)
DEBUG=true

# =============================================================================
# Storage Configuration
# =============================================================================

# Railway single-volume mode (only set on Railway):
# When STORAGE_DIR is set, DATA_DIR and PHOTOS_DIR are derived automatically.
# STORAGE_DIR=/app/storage

# Local development (used when STORAGE_DIR is not set):
DATA_DIR=data
PHOTOS_DIR=raw_photos

# =============================================================================
# Photo Storage Mode
# =============================================================================

# Storage mode for photos and crops:
# - "local" (default): serves from filesystem via app routes
# - "r2": serves from Cloudflare R2 public URLs
STORAGE_MODE=local

# R2 public URL (only used when STORAGE_MODE=r2)
# This is the public access URL from your R2 bucket settings
# R2_PUBLIC_URL=https://pub-xxx.r2.dev

# =============================================================================
# Processing Mode
# =============================================================================

# When true, uploads trigger ML processing (local dev with requirements-local.txt)
# When false, uploads are staged for admin review (production on Railway)
PROCESSING_ENABLED=true

# =============================================================================
# Authentication (Phase B) — Supabase
# =============================================================================
# When these are set, auth is enabled. When unset, all routes are public.

# Supabase project URL (from Settings → API)
# SUPABASE_URL=https://your-project.supabase.co

# Supabase anon/public key (from Settings → API)
# SUPABASE_ANON_KEY=eyJ...

# Supabase service role key (optional, for admin features)
# SUPABASE_SERVICE_KEY=eyJ...

# Session encryption secret (generate with: python -c "import secrets; print(secrets.token_hex(32))")
# SESSION_SECRET=your-random-secret

# Comma-separated invite codes for signup (share only with family)
# INVITE_CODES=family2026,rhodes123

# =============================================================================
# Cloudflare R2 Configuration (for production photo storage)
# =============================================================================
# These are used for:
# 1. Photo/crop storage (when STORAGE_MODE=r2)
# 2. Uploading photos via scripts/upload_to_r2.py
# 3. Future: automated backups

# Your Cloudflare account ID (from dashboard URL)
# R2_ACCOUNT_ID=your-account-id

# R2 API credentials (from R2 > Manage R2 API Tokens)
# R2_ACCESS_KEY_ID=your-access-key
# R2_SECRET_ACCESS_KEY=your-secret-key

# Bucket name
# R2_BUCKET_NAME=rhodesli-photos
